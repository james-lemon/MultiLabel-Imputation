package Experiment;

import Imputation.IComputeMultiLabelDatasetMetaData;
import Imputation.MissingValueGenerator;
import weka.classifiers.Classifier;
import weka.classifiers.trees.RandomForest;
import mulan.classifier.meta.RAkEL;
import mulan.classifier.transformation.LabelPowerset;
import mulan.data.MultiLabelInstances;
import mulan.evaluation.Evaluation;
import mulan.evaluation.Evaluator;

public class RAkELExperiment{

	private IComputeMultiLabelDatasetMetaData _metaData;
	private MultiLabelInstances GRANDTRUTH;
	private IPredictValues _predict;
	
	public RAkELExperiment(IComputeMultiLabelDatasetMetaData metaData, MultiLabelInstances grandTruth,
			IPredictValues predict)
	{
		_metaData = metaData;
		GRANDTRUTH = grandTruth;
		_predict = predict;
	}
	
	
	public Evaluation Run(Classifier classifer, MultiLabelInstances dataset, double ratio) throws Exception
	{
        MultiLabelInstances missingDataset = MissingValueGenerator.Create(dataset, ratio);
        RAkEL model = new RAkEL(new LabelPowerset(classifer));

        System.out.println("Building dataset");
        model.build(missingDataset);

        Evaluator evaluator = new Evaluator();
        return evaluator.evaluate(model, missingDataset);
	}


	@Override
	public Evaluation Run() {
		// TODO Auto-generated method stub
		return null;
	}

	
}
